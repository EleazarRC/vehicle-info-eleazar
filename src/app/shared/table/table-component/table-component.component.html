<!-- 
"He optado por no utilizar mat-table porque no existe una integración
 directa y sencilla con cdk-virtual-scroll-viewport. Al intentar 
 combinarlos surgen problemas técnicos y errores relacionados 
 con las directivas internas de la tabla. Además, la implementación
 con mat-table puede resultar más pesada de mantener y menos eficiente
 frente a grandes volúmenes de datos. En cambio, 
 utilizando una tabla HTML simple junto con cdk-virtual-scroll-viewport, 
 he logrado una carga inicial más rápida y un rendimiento óptimo en el 
 renderizado de miles de filas, manteniendo a la vez la experiencia 
 de usuario fluida y sin bloqueos."  
-->
<cdk-virtual-scroll-viewport [itemSize]="50" style="height: 400px; width: 100%">
  <table>
    <thead>
      <tr>
        <th *ngFor="let column of columns">{{ column.header }}</th>
        <th *ngIf="showActions">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *cdkVirtualFor="let row of data; trackBy: trackByFn">
        <td *ngFor="let column of columns">{{ row[column.field] }}</td>
        <td *ngIf="showActions">
          <button
            mat-raised-button
            color="primary"
            (click)="onDetailsClick(row)"
          >
            <mat-icon>visibility</mat-icon>
            Ver Detalles
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</cdk-virtual-scroll-viewport>
